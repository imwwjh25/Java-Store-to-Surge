### 7. Linux 的目录结构（遵循 FHS 标准）

Linux 目录结构基于 **FHS（文件系统层次结构标准）**，所有目录均以 `/`（根目录）为起点，核心目录及功能如下：

| 目录路径 | 核心功能             | 关键说明                                                     |
| -------- | -------------------- | ------------------------------------------------------------ |
| `/`      | 根目录               | 所有目录的 “顶层节点”，整个文件系统的起点                    |
| `/bin`   | 基础命令存放         | 存放所有用户可执行的基础命令（如 `ls`、`cp`、`mkdir`），命令在单用户模式下也能使用 |
| `/etc`   | 系统配置文件         | 存放系统级配置（如网络配置 `/etc/network/interfaces`、用户密码 `/etc/passwd`、服务配置 `/etc/systemd`） |
| `/home`  | 普通用户家目录       | 每个普通用户的独立目录（如 `/home/alice`），存放用户个人文件、配置 |
| `/root`  | 管理员（root）家目录 | root 用户的专属目录，普通用户无访问权限                      |
| `/var`   | 可变数据目录         | 存放 “动态变化的数据”，如日志（`/var/log`）、缓存（`/var/cache`）、数据库文件（`/var/lib/mysql`） |
| `/usr`   | 用户程序目录         | 存放系统预装 / 用户安装的软件（如 `/usr/bin` 是扩展命令、`/usr/lib` 是软件依赖库、`/usr/share` 是共享资源） |
| `/tmp`   | 临时文件目录         | 存放临时文件，系统重启后自动清空，所有用户可读写             |
| `/boot`  | 启动相关文件         | 存放内核（`vmlinuz`）、引导加载程序配置（`grub.cfg`），是系统启动的核心目录 |
| `/dev`   | 设备文件目录         | 所有硬件设备以 “文件” 形式存在于此（如硬盘 `/dev/sda`、键盘 `/dev/input/event0`），Linux 通过操作文件管理硬件 |

### 8. Linux 的启动流程（以现代 systemd 为例）

Linux 启动流程按 “硬件 → 内核 → 系统服务 → 用户登录” 的顺序执行，核心步骤如下：

#### 1. 硬件初始化（BIOS/UEFI）

- **作用**：计算机通电后，首先启动 BIOS（传统）或 UEFI（现代），完成 “硬件自检（POST）”，检查 CPU、内存、硬盘等硬件是否正常。
- **关键操作**：自检通过后，找到 “启动盘”（如硬盘），并将控制权交给启动盘的 “引导加载程序”（如 GRUB）。

#### 2. 引导加载（GRUB）

- **作用**：GRUB（Grand Unified Bootloader）是 Linux 主流的引导加载程序，负责加载内核。

- 关键操作 ：

    1. 读取 `/boot/grub/grub.cfg` 配置文件，显示启动菜单（可选择系统内核版本）；
    2. 用户选择后，GRUB 将内核（`/boot/vmlinuz`）和初始化内存盘（`/boot/initrd`，临时驱动集合）加载到内存；
    3. 加载完成后，将控制权交给内核。

#### 3. 内核初始化（Kernel）

- **作用**：内核是系统的 “核心”，负责管理硬件资源和启动第一个用户进程。

- 关键操作 ：

    1. 初始化内核自身（如内存管理、进程调度），加载必要的硬件驱动（优先用 `initrd` 中的临时驱动，后续替换为系统驱动）；
    2. 检测并挂载 “根文件系统”（`/`），确认根目录可读写；
    3. 启动系统第一个用户进程 `systemd`（或传统的 `init`，现在主流是 `systemd`），并将控制权交给它。

#### 4. 系统初始化（systemd）

- **作用**：`systemd` 是现代 Linux 发行版（如 CentOS 7+、Ubuntu 15+）的 “系统初始化管理器”，负责启动所有系统服务。

- 关键操作 ：

    1. 读取 `/etc/systemd/system/default.target`（默认目标，类似传统的 “运行级别”，如多用户模式 `multi-user.target`、图形界面 `graphical.target`）；
    2. 按依赖关系启动服务（如网络服务 `network.service`、SSH 服务 `sshd.service`、日志服务 `rsyslog.service`）；
    3. 启动 “显示管理器”（如 `gdm` 或 `lightdm`，图形界面系统），或直接进入字符终端。

#### 5. 用户登录

- 图形界面：显示登录窗口，用户输入账号密码后，启动桌面环境（如 GNOME、KDE）；
- 字符终端：显示命令行登录提示（`login:`），用户登录后进入 Shell（如 `bash`），完成启动。